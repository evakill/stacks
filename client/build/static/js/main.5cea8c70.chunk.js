(this.webpackJsonpstacks=this.webpackJsonpstacks||[]).push([[0],{106:function(e,n,t){var a={"./black.png":107,"./blue.png":108,"./green.png":109,"./red.png":110,"./white.png":111};function r(e){var n=c(e);return t(n)}function c(e){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=106},112:function(e,n,t){var a={"./burlap.png":113,"./cardboard.png":114,"./default-light.png":115,"./default.png":116,"./fabric.png":117,"./felt.png":118,"./leather.png":119,"./noise.png":120,"./paper.png":121,"./pinstripe.png":122,"./slate.png":123,"./subtle.png":124,"./suede.png":125,"./twill.png":126};function r(e){var n=c(e);return t(n)}function c(e){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=112},159:function(e,n){},162:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(31),o=t.n(c),s=(t(37),t(3)),i=(t(38),t(1)),u=t(127)("http://localhost:4001"),l={height:120,width:"auto"},g={height:140,width:"auto"},p={height:180,width:"auto",marginLeft:-100,boxShadow:"2px 2px 6px black",borderRadius:8,cursor:"pointer"};var f=function(){var e=window.location.pathname.split("/").splice(1),n=Object(s.a)(e,1)[0],t=Object(a.useState)(n),c=Object(s.a)(t,2),o=c[0],f=(c[1],Object(a.useState)(localStorage.getItem("player"))),d=Object(s.a)(f,2),m=d[0],h=d[1],k=Object(a.useState)(),b=Object(s.a)(k,2),w=b[0],E=b[1],v=Object(a.useState)(),C=Object(s.a)(v,2)[1],y=Object(a.useCallback)((function(){return C({})}),[]);u.on("new-game",(function(e){var n=e.game,t=e.player;h(t),localStorage.setItem("player",t),window.location.assign("/".concat(n._id))})),Object(a.useEffect)((function(){m||h("B"),u.emit("find-game",o)}),[o]),u.on("join-game",(function(e){E(e)})),u.on("state",(function(e){w&&(w.winner||w.turn!==e.turn||w.stack.length!==e.stack.length)&&(w=e,E(e))}));var A=["2","7","8","T"];function O(e){var n=e.face,t=Number(n);return"J"===n&&(t=11),"Q"===n&&(t=12),"K"===n&&(t=13),"A"===n&&(t=14),-1!==A.indexOf(n)&&(t=15),t}function x(e,n){return!n||(-1===A.indexOf(n.face)?O(e)>=O(n):"2"===n.face||("7"===n.face?15===O(e)||O(e)<=7:"8"==n.face?!(!w.stack||1!==w.stack.length&&0!==w.stack.length)||x(e,w.stack[w.stack.indexOf(n)+1]):void 0))}function S(e){if(w.turn===m){if(1===w.stage[m])return w.hands[m]=w.hands[m].filter((function(n){return!(n.suit===e.suit&&n.face===e.face)})),w.ups[m].push(e),E(w),y(),void(3===w.ups[m].length&&(w.turn="A"===m?"B":"A",w.stage[m]=3,u.emit("end-turn",w)));if(2===w.stage[m]&&x(e,w.stack[0])){for(w.hands[m]=w.hands[m].filter((function(n){return n.face!==e.face||(n.suit===e.suit?(w.stack.unshift(e),!1):!window.confirm("Play your ".concat(n.face," of ").concat(n.suit,"?"))||(w.stack.unshift(n),!1))}));w.deck.length&&w.hands[m].length<3;)w.hands[m]=w.hands[m].concat(w.deck.pop());w.deck.length||w.hands[m].length||(w.stage[m]=w.ups[m].length?3:w.downs[m].length?4:5,5===w.stage[m]&&setTimeout((function(){return D()}),1e3)),w.turn="A"===m?"B":"A","T"===e.face&&(w.turn=m,setTimeout((function(){return T()}),1e3)),E(w),y(),u.emit("end-turn",w)}if(3===w.stage[m]&&x(e,w.stack[0])&&(w.ups[m]=w.ups[m].filter((function(n){return n.face!==e.face||(n.suit===e.suit?(w.stack.unshift(e),!1):!window.confirm("Play your ".concat(n.face," of ").concat(n.suit,"?"))||(console.log("doing this"),w.stack.unshift(n),!1))})),w.ups[m].length||(w.stage[m]=4),w.turn="A"===m?"B":"A","T"===e.face&&(w.turn=m,setTimeout((function(){return T()}),1e3)),E(w),y(),u.emit("end-turn",w)),4===w.stage[m]){w.downs[m]=w.downs[m].filter((function(n){return!(n.face===e.face&&n.suit===e.suit)}));var n=w.stack[0];w.stack.unshift(e),E(w),y(),u.emit("end-turn",w),w.turn="A"===m?"B":"A",x(e,n)?w.hands[m].length||w.downs[m].length?"T"===e.face&&(w.turn=m,setTimeout((function(){return T()}),1e3)):setTimeout((function(){return D()}),1e3):setTimeout((function(){return N()}),1e3),E(w),y(),u.emit("end-turn",w)}}}function N(){w.hands[m]=w.hands[m].concat(w.stack),w.stack=[],w.stage[m]=2,w.turn="A"===m?"B":"A",E(w),y(),u.emit("end-turn",w)}function T(){w.stack=[],E(w),y(),u.emit("end-turn",w)}function D(){w.winner=m,E(w),y(),u.emit("end-turn",w)}return w?w.winner?(localStorage.removeItem("player"),r.a.createElement("div",{className:"App"},r.a.createElement(i.Table,null,r.a.createElement("h1",null," Player ",w.winner," wins!!! "),r.a.createElement("button",{className:"start-button",onClick:function(){return window.location.assign("/")}},"Restart")))):r.a.createElement("div",{className:"App"},r.a.createElement(i.Table,null,r.a.createElement("div",{className:"info-box"},w.turn!==m?"Waiting for player...":"Your turn!"),r.a.createElement("div",{className:"downB"},w.downs&&w.downs["".concat("A"===m?"B":"A")].map((function(e){return r.a.createElement(i.Card,{style:l})}))),r.a.createElement("div",{className:"upB"},w.ups&&w.ups["".concat("A"===m?"B":"A")].map((function(e){return r.a.createElement(i.Card,{style:l,face:e.face,suit:e.suit})}))),r.a.createElement("div",{className:"deck"},r.a.createElement(i.Card,{style:p}),Boolean(w.stack&&w.stack.length)&&r.a.createElement(r.a.Fragment,null,w.stack.slice(0,Math.min(4,w.stack.length)).reverse().map((function(e){return r.a.createElement(i.Card,{face:e.face,suit:e.suit,style:p,onClick:function(){return N()}})})))),w.stage[m]<3?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"downA"},w.downs&&w.downs[m].map((function(e){return r.a.createElement(i.Card,{style:l})}))),r.a.createElement("div",{className:"upA"},w.ups&&w.ups[m].map((function(e){return r.a.createElement(i.Card,{style:l,face:e.face,suit:e.suit,onClick:function(e,n){return S(n)}})}))),r.a.createElement("div",{className:"hand"},w.hands[m].map((function(e){return r.a.createElement(i.Card,{style:g,face:e.face,suit:e.suit,onClick:function(e,n){return S(n)}})})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"downA3"},w.downs&&w.downs[m].map((function(e,n){return r.a.createElement(i.Card,{style:g,onClick:function(){return S(w.downs[m][n])}})}))),r.a.createElement("div",{className:"upA3"},w.ups&&w.ups[m].map((function(e){return r.a.createElement(i.Card,{style:g,face:e.face,suit:e.suit,onClick:function(e,n){return S(n)}})})))))):r.a.createElement("div",{className:"App"},r.a.createElement(i.Table,null,r.a.createElement("button",{className:"start-button",onClick:function(){return u.emit("start-game")}},"Start Game?")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,n,t){e.exports=t(162)},37:function(e,n,t){},38:function(e,n,t){},39:function(e,n,t){var a={"./2C.png":40,"./2D.png":41,"./2H.png":42,"./2S.png":43,"./3C.png":44,"./3D.png":45,"./3H.png":46,"./3S.png":47,"./4C.png":48,"./4D.png":49,"./4H.png":50,"./4S.png":51,"./5C.png":52,"./5D.png":53,"./5H.png":54,"./5S.png":55,"./6C.png":56,"./6D.png":57,"./6H.png":58,"./6S.png":59,"./7C.png":60,"./7D.png":61,"./7H.png":62,"./7S.png":63,"./8C.png":64,"./8D.png":65,"./8H.png":66,"./8S.png":67,"./9C.png":68,"./9D.png":69,"./9H.png":70,"./9S.png":71,"./AC.png":72,"./AD.png":73,"./AH.png":74,"./AS.png":75,"./BACK.png":76,"./JC.png":77,"./JD.png":78,"./JH.png":79,"./JS.png":80,"./KC.png":81,"./KD.png":82,"./KH.png":83,"./KS.png":84,"./QC.png":85,"./QD.png":86,"./QH.png":87,"./QS.png":88,"./TC.png":89,"./TD.png":90,"./TH.png":91,"./TS.png":92,"./extra/aces.png":93,"./extra/back.png":94,"./extra/bridge-back-blue.png":95,"./extra/bridge-back-gray.png":96,"./extra/bridge-back-green.png":97,"./extra/bridge-back-purple.png":98,"./extra/bridge-back-red.png":99,"./extra/bridge-back-yellow.png":100,"./extra/bridge-backs.png":101,"./extra/honor-clubs.png":102,"./extra/honor-diamonds.png":103,"./extra/honor-hearts.png":104,"./extra/honor-spades.png":105};function r(e){var n=c(e);return t(n)}function c(e){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=39}},[[32,1,2]]]);
//# sourceMappingURL=main.5cea8c70.chunk.js.map